# üöÄ Moodle Evaluator - AI-powered Assessment System

[![Docker](https://img.shields.io/badge/Docker-‚úì-blue?logo=docker)](https://www.docker.com/)
[![OpenAI](https://img.shields.io/badge/OpenAI-GPT--4-green?logo=openai)](https://openai.com/)
[![Moodle](https://img.shields.io/badge/Moodle-‚úì-orange?logo=moodle)](https://moodle.org/)

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –≤ Moodle —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ (OpenAI GPT-4).

## üìë –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [üñ• –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#-–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ-—Å–∏—Å—Ç–µ–º–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-–æ—Å–Ω–æ–≤–Ω—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
  - [1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è](#1-–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)
  - [2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è](#2-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
  - [2.1 –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –±–∞–∑–µ Moodle](#21-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ-—Å–∏—Å—Ç–µ–º—ã-–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π-–æ—Ü–µ–Ω–∫–∏-–∫-—É–∂–µ-—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π-–±–∞–∑–µ-–¥–∞–Ω–Ω—ã—Ö-moodle)
  - [3. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã](#3-–∑–∞–ø—É—Å–∫-—Å–∏—Å—Ç–µ–º—ã)
  - [4. –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º](#4-–¥–æ—Å—Ç—É–ø-–∫-—Å–µ—Ä–≤–∏—Å–∞–º)
- [üåê –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞](#-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞)
- [‚å®Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-cli-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞)
- [üõ† –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π](#-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Å–∏—Å—Ç–µ–º–æ–π)


## üñ• –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç       | –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è                          |
|-----------------|-------------------------------------|
| –û–°             | Linux (Ubuntu 20.04+, Debian 10+), Windows 10/11, macOS 10.15+ |
| CPU            | 2 —è–¥—Ä–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 4+)          |
| RAM            | 4 GB (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 8 GB+)         |
| –î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ | 10 GB (–ø–ª—é—Å –º–µ—Å—Ç–æ –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Moodle) |
| Docker         | –í–µ—Ä—Å–∏—è 20.10.0+                    |
| Docker Compose | –í–µ—Ä—Å–∏—è 2.0.0+                      |

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã —Ç–∏–ø–∞ "—ç—Å—Å–µ"
- ‚ö°Ô∏è **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI GPT-4** –¥–ª—è –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π –æ—Ü–µ–Ω–∫–∏
- üåê **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–º –ø—Ä–æ–≤–µ—Ä–∫–∏
- ‚å®Ô∏è **–ö–æ–º–∞–Ω–¥–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** (CLI)
- üê≥ **–ü–æ–ª–Ω–∞—è Docker-–ø–æ–¥–¥–µ—Ä–∂–∫–∞** –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- üìä **–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ü–µ–Ω–æ–∫** –≤ Moodle

## üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. [Docker](https://www.docker.com/products/docker-desktop/)
> [!TIP]
> –ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ docker –Ω–∞ —Å–µ—Ä–≤–µ—Ä Linux –±–µ–∑ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å —ç—Ç–æ–π —Å—Ç–∞—Ç—å—ë–π [–°—Å—ã–ª–∫–∞](https://www.dmosk.ru/miniinstruktions.php?mini=docker-install-linux) 
2. API-–∫–ª—é—á OpenAI ([–ø–æ–ª—É—á–∏—Ç—å –∑–¥–µ—Å—å](https://proxyapi.ru/))

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone https://github.com/Shvadart/moodle_autograder.git
cd moodle_autograder
```
### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
cp .exampleenv .env
nano .env  # –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º —Ñ–∞–π–ª
```
–ü—Ä–∏–º–µ—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ .env:
```bash
# Moodle Database Settings
DB_HOST=your-db-host
DB_USER=your-db-user
DB_PASSWORD=your-db-password
DB_NAME=your-db-name

# OpenAI Settings
OPENAI_API_KEY=your-api-key-here
OPENAI_BASE_URL=https://api.proxyapi.ru/openai/v1
```
#### 2.1 –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –æ—Ü–µ–Ω–∫–∏ –∫ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö Moodle
–ó–∞–º–µ–Ω–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ docker-compose.yml –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –Ω–∏–∂–µ, –ø—Ä–∏ —á–µ–º –Ω–µ –∑–∞–±—É–¥—å—Ç–µ –≤ MYSQL_HOST –≤–≤–µ—Å—Ç–∏ IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ –ë–î, –∞ —Ç–∞–∫–∂–µ –ø–æ—Ä—Ç MYSQL_PORT.

> [!IMPORTANT]
> –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã —Ä–∞–±–æ—Ç–∞–µ—Ç —Å MariaDB, –¥–ª—è –¥—Ä—É–≥–∏—Ö –°–£–ë–î –≤–æ–∑–º–æ–∂–Ω–æ –±—É–¥–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–∑–º–µ–Ω–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –≤ –º–æ–¥—É–ª–µ moodle_db.py.

```bash
version: '3'

services:
  evaluator:
    build:
      context: .
    container_name: moodle_evaluator
    ports:
      - "5000:5000"  # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ–≤–µ—Ä–∫–∏
    env_file:
      - .env
    environment:
      MYSQL_HOST: # –£–∫–∞–∂–∏—Ç–µ IP —Å–µ—Ä–≤–µ—Ä–∞ 
      MYSQL_PORT: 3306
      MYSQL_USER: moodleuser
      MYSQL_PASSWORD: moodlepass
      MYSQL_DATABASE: moodle

  evaluator-cli:
    build:
      context: .
    container_name: moodle_evaluator_cli
    env_file:
      - .env
    environment:
      MYSQL_HOST: # –£–∫–∞–∂–∏—Ç–µ IP —Å–µ—Ä–≤–µ—Ä–∞
      MYSQL_PORT: 3306
      MYSQL_USER: moodleuser
      MYSQL_PASSWORD: moodlepass
      MYSQL_DATABASE: moodle
    command: ["python", "/app/cli_interface.py"]
    tty: true
    stdin_open: true
    volumes:
      - ./app:/app
```
### 3. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
```bash
docker-compose up -d --build
```

### 4. –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º
–°–µ—Ä–≤–∏—Å	URL 
- Moodle	http://localhost:8080 
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å	http://localhost:5000 
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö	moodle_db:3306 

–ï—Å–ª–∏ –≤—ã –≤—ã–ø–æ–ª–Ω–∏–ª–∏ –ø—É–Ω–∫—Ç 2.1, —Ç–æ Moodle	http://localhost:8080 –≤–∞–º –±—É–¥–µ—Ç –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω


## üåê –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5000: 

–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–æ–π:
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 30 —Å–µ–∫) 
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ/–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø—Ä–æ–≤–µ—Ä–∫—É 

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç—Ç–∞–ª–æ–Ω–Ω—ã–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏:
- –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∂–µ—Ç –≤–æ–ø—Ä–æ—Å—ã –±–µ–∑ —ç—Ç–∞–ª–æ–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ 
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ –±–µ–∑ —ç—Ç–∞–ª–æ–Ω–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞: 
    - –í–≤–µ–¥–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ 
    - –ù–∞–∂–º–∏—Ç–µ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ graderinfo" 
    - –°–∏—Å—Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç –æ—Ç–≤–µ—Ç –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö Moodle 

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
–ß—Ç–æ–±—ã –≤—ã–∑–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É
```bash
docker-compose run --rm evaluator-cli
```
–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å CLI:
```bash
=== Moodle Evaluator CLI ===
–°—Ç–∞—Ç—É—Å: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ –∞–∫—Ç–∏–≤–Ω–∞
–ò–Ω—Ç–µ—Ä–≤–∞–ª: 30 —Å–µ–∫

–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:
> –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É
  –ò–∑–º–µ–Ω–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏
  –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —ç—Ç–∞–ª–æ–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
  –í—ã—Ö–æ–¥
```
–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
- –ó–∞–ø—É—Å—Ç–∏—Ç—å/–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É: –í–∫–ª—é—á–∞–µ—Ç –∏–ª–∏ –≤—ã–∫–ª—é—á–∞–µ—Ç —Ñ–æ–Ω–æ–≤—É—é –ø—Ä–æ–≤–µ—Ä–∫—É 
- –ò–∑–º–µ–Ω–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö) 
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —ç—Ç–∞–ª–æ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–æ–ø—Ä–æ—Å—ã –±–µ–∑ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Ö –¥–æ–±–∞–≤–∏—Ç—å

## üõ† –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π
–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
# –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
docker-compose up -d --build

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã
docker-compose down
```
